üìò FASE 0 --- DASHBOARD E NAVEGA√á√ÉO PRINCIPAL
Projeto SaaS KAIROS --- Vers√£o 1.0 (CONSOLIDADA)

OBJETIVO E ESCOPO
0.1 Objetivo

Definir a interface principal de navega√ß√£o e vis√£o geral do sistema KAIROS, garantindo:

acesso unificado a todas as funcionalidades

feedback visual imediato sobre progresso e motiva√ß√£o

experi√™ncia consistente entre desktop e mobile

ader√™ncia ao Design System (Fase 7)

controle de acesso por plano (Fase 8)

0.2 Escopo

Esta fase regula:
6. estrutura de layout (sidebar, header, main content)
7. componentes do dashboard (cards, widgets)
8. navega√ß√£o entre funcionalidades
9. estados de carregamento e cache
10. controle de acesso visual por plano

0.3 Depend√™ncias

Esta fase depende de:
11. Fase 1 (Perfil): nome social, configura√ß√µes b√°sicas
12. Fase 3 (Calend√°rio): meta di√°ria, status do dia
13. Fase 5 (Conquistas): streak, ofensiva
14. Fase 7 (Design System): componentes UI, tema
15. Fase 8 (Assinatura): plano do usu√°rio, restri√ß√µes

LAYOUT MESTRE (ESTRUTURA GLOBAL)
1.1 Componentes Obrigat√≥rios

Todo layout autenticado deve conter:
16. Sidebar (navega√ß√£o principal)
17. Header (contexto e a√ß√µes globais)
18. Main Content (conte√∫do da rota atual)

1.2 Responsividade Obrigat√≥ria

Desktop (‚â•1024px):
19. sidebar vis√≠vel e fixa
20. largura: 240px
21. header com altura: 64px
Tablet/Mobile (<1024px):
22. sidebar colapsada em drawer
23. acionada por bot√£o hamburguer no header
24. overlay escurece conte√∫do quando aberta

SIDEBAR (NAVEGA√á√ÉO PRINCIPAL)
2.1 Estrutura e Itens

A sidebar deve conter, nesta ordem:
25.1. Topo: Logo KAIROS (clic√°vel, redireciona para /dashboard)
25.2. Menu Principal:\

Meu Perfil (√≠cone: User)\

Minhas Mat√©rias (√≠cone: BookOpen)\

Informativos (√≠cone: FileText)\

Cronograma (√≠cone: Calendar)\

Estat√≠sticas (√≠cone: BarChart3)\

Conquistas (√≠cone: Trophy)\

Ajustes (√≠cone: Settings)
25.3. Rodap√©:\

Toggle Dark/Light (√≠cone: Sun/Moon)\

Sair (√≠cone: LogOut)
Biblioteca de √≠cones:

Lucide React (gratuita, j√° no stack)

todos os itens devem ter √≠cone + texto

2.2 Estados Visuais

Item ativo:
28. background: bg-primary/10
29. texto: text-primary
30. borda esquerda: 3px solid primary
Item hover:
31. background: bg-muted
32. transi√ß√£o suave (200ms)
Item desabilitado (se aplic√°vel):
33. opacidade: 50%
34. cursor: not-allowed

2.3 Comportamento Mobile

Mobile:
35. drawer fecha automaticamente ao selecionar item
36. overlay semi-transparente (bg-black/50)
37. anima√ß√£o de slide-in (esquerda para direita)

HEADER (CONTEXTO GLOBAL)
3.1 Estrutura

O header deve conter:
38. Esquerda: Bot√£o hamburguer (mobile) ou breadcrumb (desktop)
39. Centro/Direita: Contexto da rota atual
40. Direita: Avatar do usu√°rio + nome (dropdown opcional)

3.2 Mensagem de Boas-Vindas

A mensagem de boas-vindas:
41. aparece somente na rota /dashboard
42. formato: "Bem-vindo(a), [Nome Social]!"
43. se nome social n√£o existir, usa nome completo
44. tipografia: text-lg font-medium
Nas demais rotas:
45. exibe t√≠tulo da se√ß√£o (ex: "Minhas Mat√©rias", "Estat√≠sticas")
46. pode incluir breadcrumb se navega√ß√£o aninhada

3.3 A√ß√µes Globais

O header pode conter:
47. bot√£o "Atualizar" (√≠cone: RefreshCw) - atualiza cache do dashboard
48. avatar do usu√°rio (clic√°vel, abre dropdown com "Meu Perfil" e "Sair")

DASHBOARD (/dashboard) --- VIS√ÉO GERAL
4.1 Objetivo do Dashboard

O dashboard √© a tela inicial ap√≥s login e deve:
49. exibir status atual do estudo (meta di√°ria, streak)
50. fornecer acesso r√°pido √†s a√ß√µes principais
51. motivar o usu√°rio com feedback visual de progresso

4.2 Layout do Dashboard

Estrutura em grid:
52. Desktop: 2 colunas (60% / 40%)
53. Mobile: 1 coluna (empilhamento vertical)
Ordem de exibi√ß√£o (prioridade visual):
54. Coluna Esquerda (principal):

Card de Ofensiva (Streak)

Card de Meta Di√°ria

Coluna Direita (secund√°ria):

Card de Mat√©rias na Fila

Card de Rob√¥ de Informativos

CARD DE OFENSIVA (STREAK)
5.1 Posicionamento e Tamanho

O card de ofensiva:
56. √© o primeiro card do dashboard (topo da coluna esquerda)
57. altura: auto (baseada em conte√∫do)
58. largura: 100% da coluna

5.2 Informa√ß√µes Exibidas

O card deve mostrar:
59. √çcone de fogo (üî•) grande e destacado
60. N√∫mero de dias em streak atual (tipografia: text-4xl font-bold)
61. Texto: "dias de ofensiva"
62. Linha secund√°ria: "Seu recorde: [X] dias"
63. Pr√≥xima conquista de streak (se aplic√°vel): "Faltam [N] dias para üèÜ [Nome da Conquista]"
Exemplo visual:

text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üî• 7 DIAS                          ‚îÇ
‚îÇ  dias de ofensiva                   ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ  Seu recorde: 45 dias               ‚îÇ
‚îÇ  Faltam 3 dias para üèÜ Streak de 10 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
5.3 Estados do Streak

Streak ativo (‚â•1 dia):
64. cor de destaque: primary (azul)
65. √≠cone de fogo animado (pulse suave)
Streak quebrado (0 dias):
66. cor: destructive (vermelho)
67. texto: "Streak perdido üíî"
68. exibe mensagem: "Voc√™ tinha [X] dias. Continue estudando para recome√ßar!"
69. bot√£o CTA: "Recuperar Streak" (ver ¬ß5.4)

5.4 Recupera√ß√£o de Streak

Bot√£o "Recuperar Streak":
70. aparece somente quando streak = 0
71. ao clicar:

exibe modal explicativo

informa: "Recupere seu streak cumprindo a meta de hoje!"

bot√£o: "Ir para Meta Di√°ria"

n√£o recupera streak automaticamente (usu√°rio deve cumprir meta)
Regra de recupera√ß√£o:

streak s√≥ √© restaurado ao cumprir totalmente a meta di√°ria

n√£o h√° "perd√£o" autom√°tico ou recupera√ß√£o retroativa

CARD DE META DI√ÅRIA
6.1 Posicionamento e Tamanho

O card de meta di√°ria:
75. aparece logo abaixo do card de ofensiva
76. √© o segundo card em prioridade visual
77. altura: expans√≠vel (ver ¬ß6.3)
78. largura: 100% da coluna

6.2 Informa√ß√µes Obrigat√≥rias (Resumo)

O card deve exibir (estado colapsado):
79. √çcone: Calendar
80. T√≠tulo: "Meta de Hoje"
81. Resumo:

Tempo total: "3h30min"

Quantidade de mat√©rias: "3 mat√©rias"

Extras: "50 quest√µes" (se aplic√°vel)

Barra de progresso visual:

[‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë] 60%

cores: success (verde) quando >50%, muted quando ‚â§50%

Bot√£o principal (ver ¬ß6.4)

Link expans√≠vel: "‚åÑ Ver detalhes"
Exemplo visual (colapsado):

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìÖ META DE HOJE ‚îÇ
‚îÇ ‚è±Ô∏è 3h30min | 3 mat√©rias | 50 quest√µes ‚îÇ
‚îÇ [‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë] 60% conclu√≠do ‚îÇ
‚îÇ [Continuar Estudo ‚Üí] ‚îÇ
‚îÇ ‚åÑ Ver detalhes ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
6.3 Detalhamento (Estado Expandido)

Ao clicar em "Ver detalhes", o card expande inline e mostra:
85. Lista completa de atividades do dia:

Teoria: [Mat√©ria 1] - [X p√°ginas/blocos] - [status: pendente/conclu√≠da]

Teoria: [Mat√©ria 2] - [X p√°ginas/blocos] - [status]

Revis√£o: [Mat√©ria Y] - 30min - [status]

Informativos: [Tribunal Z] - [status]

Quest√µes: 50 quest√µes - [status]

Lei Seca: [X artigos] - [status]

Status de cada atividade:

‚úÖ Conclu√≠da (texto em muted, tachado)

‚è≥ Em andamento (texto em primary)

‚¨ú Pendente (texto normal)
Link para colapsar:

texto: "‚åÉ Ocultar detalhes"

ao clicar, volta ao estado resumido (¬ß79-84)

6.4 Bot√£o Principal (Estados Din√¢micos)

O bot√£o principal muda conforme status da meta:
Status: N√£o Iniciada
89. texto: "Iniciar Estudo"
90. variante: default (primary)
91. ao clicar: abre modal do cron√¥metro (ver ¬ß6.5)
Status: Em Andamento
92. texto: "Continuar Estudo"
93. variante: default (primary)
94. ao clicar: abre modal do cron√¥metro retomando de onde parou
Status: Conclu√≠da
95. texto: "‚úÖ Meta Conclu√≠da!"
96. variante: outline (success)
97. bot√£o desabilitado
98. exibe mensagem adicional: "+1 dia de streak üî•"
Status: N√£o Cumprida (dia anterior)
99. card mostra apenas resumo do que foi feito
100. sem bot√£o de a√ß√£o
101. mensagem: "Meta n√£o conclu√≠da ontem"

6.5 Modal do Cron√¥metro

Ao clicar em "Iniciar" ou "Continuar", abre modal com:
102. T√≠tulo: "Sess√£o de Estudo"
103. Cron√¥metro: exibe tempo decorrido (mm:ss)
104. Atividade atual: mostra qual atividade est√° sendo executada
105. Controles:

Pausar (√≠cone: Pause)

Continuar (√≠cone: Play) - aparece quando pausado

Cancelar Sess√£o (√≠cone: X) - fecha modal sem salvar progresso

Finalizar Sess√£o (√≠cone: Check) - salva progresso e fecha modal

Aviso ao cancelar:

"Tem certeza? O progresso desta sess√£o ser√° perdido."

bot√µes: "Sim, cancelar" | "N√£o, continuar"
Finaliza√ß√£o da sess√£o:

ao clicar "Finalizar":

registra tempo estudado

atualiza progresso da atividade

fecha modal

atualiza card de meta di√°ria no dashboard

se meta foi totalmente conclu√≠da:

exibe toast de sucesso: "üéâ Meta conclu√≠da! +1 dia de streak"

atualiza card de ofensiva

6.6 Casos Especiais

Dia bloqueado (f√©rias/folga):
109. card exibe:

√≠cone: üå¥

texto: "Dia de folga"

mensagem: "Aproveite seu descanso!"

sem bot√£o de a√ß√£o

sem barra de progresso
Dia futuro (se usu√°rio acessar dashboard antes de meia-noite):

card mostra meta do dia atual (D)

n√£o mostra meta de D+1 no dashboard (apenas no Cronograma)

CARD DE MAT√âRIAS NA FILA
7.1 Posicionamento e Tamanho

O card de mat√©rias:
114. aparece na coluna direita do dashboard
115. √© o primeiro card da coluna direita
116. altura: auto (baseada em quantidade de mat√©rias)
117. largura: 100% da coluna

7.2 Informa√ß√µes Exibidas

O card deve mostrar:
118. T√≠tulo: "Mat√©rias na Fila" (√≠cone: BookOpen)
119. Lista das pr√≥ximas 3 mat√©rias:

Nome da mat√©ria

Progresso: "[X%]" ou "[p√°ginas/blocos restantes]"

Barra de progresso visual (mini)

Bot√£o rodap√©: "Ver todas ‚Üí" (redireciona para /materias)
Exemplo visual:

text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
text
‚îÇ  üìö MAT√âRIAS NA FILA            ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ  Direito Penal                  ‚îÇ
‚îÇ  [‚ñì‚ñì‚ñì‚ñì‚ñì‚ñë] 65% (350/1000 p√°gs)   ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ  Direito Civil                  ‚îÇ
‚îÇ  [‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë] 35% (140/400 p√°gs)    ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ  Portugu√™s                      ‚îÇ
‚îÇ  [‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì] 98% (49/50 blocos)    ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ  [Ver todas ‚Üí]                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
7.3 Intera√ß√£o

Ao clicar no nome de uma mat√©ria:
121. redireciona para p√°gina de detalhes da mat√©ria
122. rota: /materias/[id]
123. exibe:

trilhas (leitura/v√≠deo)

progresso detalhado

lei seca vinculada (se houver)

hist√≥rico de sess√µes

7.4 Estados Especiais

Nenhuma mat√©ria cadastrada:
124. card exibe empty state:

√≠cone: BookOpen (grande, muted)

texto: "Nenhuma mat√©ria cadastrada"

descri√ß√£o: "Comece adicionando sua primeira mat√©ria!"

bot√£o CTA: "Adicionar Mat√©ria" (redireciona para /materias/nova)
Todas as mat√©rias conclu√≠das:

card exibe:

√≠cone: üéâ

texto: "Todas as mat√©rias conclu√≠das!"

descri√ß√£o: "Parab√©ns! Voc√™ finalizou tudo."

bot√£o: "Adicionar Nova Mat√©ria"
Usu√°rio gratuito com >2 mat√©rias:

mostra as 2 ativas normalmente

terceira linha exibe:

texto: "+[N] mat√©rias bloqueadas üîí"

ao clicar: exibe modal "Upgrade para Premium" (ver ¬ß9.4)

CARD DE ROB√î DE INFORMATIVOS
8.1 Posicionamento e Tamanho

O card de informativos:
128. aparece na coluna direita, abaixo de "Mat√©rias na Fila"
129. tamanho: pequeno (1/3 da altura dos outros cards)
130. largura: 100% da coluna

8.2 Informa√ß√µes Exibidas

O card deve mostrar:
131. T√≠tulo: "Rob√¥ de Informativos" (√≠cone: Bot)
132. Status por tribunal selecionado:

STF: Em dia ‚úÖ

STJ: 2 novos ‚ö†Ô∏è

TST: 5 atrasados ‚ùå

Bot√£o: "Ver informativos ‚Üí"
Exemplo visual:

text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
text
‚îÇ  ü§ñ ROB√î DE INFORMATIVOS        ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ  STF: Em dia ‚úÖ                 ‚îÇ
‚îÇ  STJ: 2 novos ‚ö†Ô∏è                ‚îÇ
‚îÇ  TST: 5 atrasados ‚ùå            ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ  [Ver informativos ‚Üí]           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
8.3 Intera√ß√£o

Ao clicar em "Ver informativos":
134. redireciona para /informativos
135. p√°gina lista todos os informativos por tribunal
136. permite marcar como lido

8.4 Estados Especiais

Nenhum tribunal selecionado:
137. card exibe:

√≠cone: Bot (muted)

texto: "Nenhum tribunal configurado"

descri√ß√£o: "Configure tribunais em Ajustes"

bot√£o: "Ir para Ajustes"
Usu√°rio gratuito (sem acesso ao bot):

card aparece normalmente

exibe badge no canto superior direito: "üîí Premium"

conte√∫do do card:

√≠cone: Bot (opacity 50%)

texto: "Recurso Premium"

descri√ß√£o: "Upgrade para acompanhar informativos automaticamente"

bot√£o: "Fazer Upgrade" (redireciona para /assinatura)

CONTROLE DE ACESSO POR PLANO
9.1 Princ√≠pios

O dashboard deve:
141. nunca ocultar recursos premium
142. sempre mostrar bloqueado com indica√ß√£o visual clara
143. incentivar upgrade sem ser intrusivo

9.2 Recursos Gratuitos (Sempre Vis√≠veis)

Usu√°rio gratuito tem acesso total a:
144. Card de Ofensiva
145. Card de Meta Di√°ria
146. Card de Mat√©rias (at√© 2 ativas)
147. Navega√ß√£o completa (sidebar)

9.3 Recursos Premium (Bloqueados com Badge)

Usu√°rio gratuito v√™ bloqueados:
148. Rob√¥ de Informativos (badge "üîí Premium")
149. Calend√°rio completo (somente semanal liberado - n√£o √© no dashboard)
150. Mat√©rias excedentes (>2) - linha "+N mat√©rias bloqueadas"

9.4 Modal de Upgrade

Ao clicar em recurso bloqueado, exibe modal:
151. T√≠tulo: "Recurso Premium"
152. Descri√ß√£o: "Este recurso est√° dispon√≠vel apenas no plano pago."
153. Benef√≠cios do upgrade:

Mat√©rias ilimitadas

Rob√¥ de informativos

Calend√°rio completo

[outros benef√≠cios futuros]

Bot√µes:

"Fazer Upgrade" (primary - redireciona para /assinatura)

"Agora n√£o" (ghost - fecha modal)

CARREGAMENTO E CACHE
10.1 Estrat√©gia de Cache

O dashboard utiliza cache local de 5 minutos para:
155. dados de perfil (nome social)
156. meta di√°ria
157. mat√©rias na fila
158. informativos
159. streak
Dados em cache:
160. s√£o salvos em mem√≥ria (n√£o localStorage)
161. expiram ap√≥s 5 minutos
162. s√£o invalidados ao trocar de usu√°rio (logout/login)

10.2 Atualiza√ß√£o Manual

Bot√£o "Atualizar" no header:
163. √≠cone: RefreshCw
164. ao clicar:

limpa cache local

refaz todas as requisi√ß√µes

exibe toast: "Dashboard atualizado"

anima√ß√£o de loading no bot√£o enquanto atualiza

10.3 Loading States

Ao carregar o dashboard pela primeira vez:
166. exibe skeleton b√°sico:

Card de ofensiva: bloco retangular animado

Card de meta: 3 linhas animadas

Card de mat√©rias: 3 blocos retangulares

Card de informativos: 1 bloco pequeno

skeleton usa bg-muted com anima√ß√£o pulse
Requisi√ß√µes individuais:

n√£o bloqueiam toda a p√°gina

card que falhar exibe estado de erro:

√≠cone: AlertCircle

texto: "Erro ao carregar"

bot√£o: "Tentar novamente"

10.4 Atualiza√ß√£o Autom√°tica

N√£o h√° atualiza√ß√£o autom√°tica (polling/websockets) no v1.
Atualiza√ß√£o s√≥ ocorre:
170. ao carregar a p√°gina
171. ao clicar em "Atualizar"
172. ao retornar de outra rota para /dashboard (refetch)

SEGURAN√áA E ISOLAMENTO
11.1 Prote√ß√£o de Rota

A rota /dashboard:
173. √© protegida (requer autentica√ß√£o)
174. redireciona para /login se usu√°rio n√£o autenticado
175. redireciona para /perfil/inicial se perfil incompleto

11.2 RLS e Multi-Tenancy

Todos os dados do dashboard:
176. s√£o filtrados por user_id = auth.uid()
177. respeitam RLS obrigat√≥rio
178. jamais exp√µem dados de outros usu√°rios
Requisi√ß√µes ao backend:
179. sempre incluem token de autentica√ß√£o
180. token √© validado no backend antes de retornar dados

11.3 Dados Sens√≠veis

O dashboard n√£o exibe:
181. IDs internos (uuid)
182. tokens de autentica√ß√£o
183. dados de pagamento
Logs do frontend:
184. n√£o devem conter dados pessoais
185. erros devem ser gen√©ricos ("Erro ao carregar meta")

NAVEGA√á√ÉO ENTRE ROTAS
12.1 Rotas Dispon√≠veis

Sidebar permite navega√ß√£o para:
186.1. /dashboard - Dashboard (esta fase)
186.2. /perfil - Meu Perfil (Fase 1)
186.3. /materias - Minhas Mat√©rias (Fase 2)
186.4. /informativos - Informativos (Fase 2)
186.5. /cronograma - Cronograma (Fase 3)
186.6. /estatisticas - Estat√≠sticas (Fase 4)
186.7. /conquistas - Conquistas (Fase 5)
186.8. /ajustes - Ajustes (Fase 6)

12.2 Redirecionamentos Internos

Cards do dashboard redirecionam para:
187.1. Meta Di√°ria ‚Üí n√£o redireciona, abre modal inline
187.2. Mat√©rias ‚Üí /materias
187.3. Informativos (card "Rob√¥ de Informativos") ‚Üí /informativos
187.4. Clicar em mat√©ria espec√≠fica ‚Üí /materias/[id]

12.3 Estado de Navega√ß√£o

Ao navegar para outra rota:
188. sidebar mant√©m item ativo destacado
189. header muda t√≠tulo para nome da se√ß√£o
190. cache do dashboard √© mantido (n√£o expira)

RESPONSIVIDADE DETALHADA
13.1 Desktop (‚â•1024px)

Layout desktop:
191. grid 2 colunas: 60% (esquerda) + 40% (direita)
192. sidebar fixa vis√≠vel
193. header com breadcrumb (se aplic√°vel)

13.2 Tablet (768px - 1023px)

Layout tablet:
194. grid 2 colunas: 50% + 50%
195. sidebar em drawer
196. cards mant√™m propor√ß√£o

13.3 Mobile (<768px)

Layout mobile:
197. 1 coluna (empilhamento vertical)
198. ordem:

Ofensiva

Meta Di√°ria

Mat√©rias

Informativos

sidebar em drawer (fecha ao selecionar item)

header mostra apenas hamburguer + t√≠tulo

13.4 Cards Espec√≠ficos

Card de Meta Di√°ria (mobile):
201. resumo mant√©m formato compacto
202. ao expandir, lista ocupa largura total
203. bot√£o "Iniciar/Continuar" largura total (w-full)
Card de Mat√©rias (mobile):
204. cada mat√©ria ocupa linha completa
205. progresso visual mantido
206. "Ver todas" permanece no rodap√©

FEEDBACK MOTIVACIONAL
14.1 Mensagens Din√¢micas

Al√©m de "Bem-vindo(a)", o header pode exibir:
207. "Voc√™ est√° a [N] dias de bater seu recorde! üî•" (se streak pr√≥ximo do recorde)
208. "Parab√©ns! [N] dias de streak üéâ" (ao atingir marco: 7, 30, 100 dias)
209. "Hoje voc√™ tem [N] mat√©rias. Vamos l√°! üí™" (se meta n√£o iniciada)
Crit√©rios de exibi√ß√£o:
210. prioridade: conquistas recentes (√∫ltimas 24h)
211. se sem conquista recente: mensagem motivacional baseada em estado
212. se nada aplic√°vel: mensagem padr√£o "Bem-vindo(a)"

14.2 Toasts de Sucesso

Toasts aparecem:
213. ao concluir meta di√°ria: "üéâ Meta conclu√≠da! +1 dia de streak"
214. ao ganhar conquista: "üèÜ Nova conquista desbloqueada: [Nome]"
215. ao atualizar dashboard: "Dashboar atualizado" (info, n√£o success)

Posi√ß√£o dos toasts:
216. topo-direita (desktop)
217. topo-centro (mobile)
218. dura√ß√£o: 5 segundos
219. podem ser fechados manualmente (bot√£o X)

ACESSIBILIDADE
15.1 Navega√ß√£o por Teclado

Todos os elementos interativos:
220. s√£o acess√≠veis via Tab
221. ordem l√≥gica de foco (sidebar ‚Üí header ‚Üí main)
222. indicador visual de foco (outline: 2px primary)
Atalhos de teclado (opcional v2):
223. Ctrl+D: voltar para dashboard
224. Ctrl+M: abrir Mat√©rias
225. Ctrl+C: abrir Cronograma

15.2 ARIA Labels

Elementos devem ter:
226. aria-label em √≠cones sem texto vis√≠vel
227. aria-current="page" no item ativo da sidebar
228. aria-expanded em cards expans√≠veis

15.3 Contraste

Cores devem respeitar WCAG AA:
229. texto sobre background: contraste ‚â•4.5:1
230. textos grandes (‚â•18px): contraste ‚â•3:1
231. validado em ambos os temas (light/dark)

TESTES OBRIGAT√ìRIOS
16.1 Testes E2E (Cr√≠ticos)

Dashboard deve ter E2E para:
232. Login e carregamento do dashboard:

usu√°rio autentica

dashboard carrega com todos os cards

streak exibido corretamente

Iniciar meta di√°ria:

clicar em "Iniciar Estudo"

modal de cron√¥metro abre

finalizar sess√£o atualiza progresso

Navega√ß√£o via sidebar:

clicar em item da sidebar

rota muda corretamente

item ativo destacado

Responsividade (mobile):

sidebar colapsa em drawer

hamburguer abre/fecha sidebar

cards empilham verticalmente

16.2 Testes Unit√°rios

Componentes do dashboard devem ter testes para:
236. renderiza√ß√£o condicional (streak quebrado, meta conclu√≠da)
237. formata√ß√£o de dados (progresso %, tempo)
238. estados de loading/error

INTEGRA√á√ÉO COM OUTRAS FASES
17.1 Depend√™ncias de Dados

Dashboard consome:
239. Fase 1 (Perfil): GET /api/profile (nome social, plano)
240. Fase 3 (Calend√°rio): GET /api/daily-plan/today (meta di√°ria)
241. Fase 5 (Conquistas): GET /api/achievements/streak (ofensiva)
242. Fase 2 (Mat√©rias): GET /api/subjects?limit=3 (fila)
243. Informativos: GET /api/informatives/status (tribunais)

17.2 Altera√ß√µes de Estado

A√ß√µes no dashboard podem:
244. iniciar/concluir sess√£o de estudo (afeta Fase 3)
245. desbloquear conquistas (afeta Fase 5)
246. quebrar/manter streak (afeta Fase 5)

LIMITA√á√ïES E ESCOPO FUTURO (V2)
18.1 N√£o Inclu√≠do em V1

Ficam para vers√µes futuras:
247. customiza√ß√£o de widgets (usu√°rio escolhe o que aparece)
248. notifica√ß√µes in-app (sino no header)
249. √∫ltimas atividades (hist√≥rico recente)
250. atalhos de teclado globais
251. preview de pr√≥xima meta (D+1)

18.2 V1 M√≠nimo Vi√°vel

Dashboard V1 √© considerado completo com:
252. sidebar funcional com navega√ß√£o
253. cards: ofensiva, meta di√°ria, mat√©rias, informativos
254. modal de cron√¥metro funcional
255. responsividade completa
256. controle de acesso por plano

STATUS NORMATIVO

Esta norma √© obrigat√≥ria para:
257. implementa√ß√£o da tela /dashboard
258. layout mestre (sidebar + header)
259. navega√ß√£o principal do sistema
Exce√ß√µes:
260. seguem regime de governan√ßa padr√£o
261. requerem ADR e aprova√ß√£o formal